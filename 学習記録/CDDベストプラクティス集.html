<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>対話駆動開発(CDD) ベストプラクティス集 Ver. 1.0</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.8;
            color: #212529;
            max-width: 1100px;
            margin: 40px auto;
            padding: 0 20px;
            background-color: #f9fbfd;
        }

        h1,
        h2,
        h3 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 50px;
        }

        h1 {
            text-align: center;
            border-bottom-width: 5px;
            font-size: 3em;
            color: #1a5276;
        }

        h2 {
            font-size: 2.2em;
            border-left: 8px solid #3498db;
            background-color: #ecf5fb;
            padding: 10px 15px;
        }

        pre {
            background-color: #283747;
            color: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            overflow-x: auto;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            font-size: 1em;
            line-height: 1.6;
        }

        code {
            background-color: #e9ecef;
            padding: 3px 7px;
            border-radius: 5px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            font-size: 0.9em;
            color: #c7254e;
        }

        .card {
            background-color: #fff;
            border: 1px solid #d6eaf8;
            border-radius: 10px;
            padding: 35px;
            margin-bottom: 35px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.07);
        }

        .technique-card {
            margin-top: 25px;
            padding: 25px;
            border-radius: 8px;
            border-left: 5px solid #f39c12;
            background-color: #fef9e7;
        }

        .technique-card h3 {
            color: #b7791f;
            border-bottom-color: #f39c12;
        }

        .problem,
        .solution {
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }

        .problem {
            background-color: #fdedec;
            border: 1px solid #fadbd8;
        }

        .solution {
            background-color: #eafaf1;
            border: 1px solid #d4efdf;
        }
    </style>
</head>

<body>

    <h1>対話駆動開発(CDD) ベストプラクティス集</h1>
    <p style="text-align: center; font-size: 1.2em; color: #566573;">AIの「瞬発力」を最大化し、「保持力の弱さ」を補うための人間側のテクニック</p>

    <div class="card">
        <h2>はじめに</h2>
        <p>
            AI（Gemini）は、驚異的な速度で高品質なコードを生成する「瞬発力」を持つ、最高のプログラミング・パートナーです。しかし、その一方で、長い対話の文脈を完全に記憶し続ける「保持力」には課題があります。
        </p>
        <p>
            このドキュメントは、AIの弱点を人間が補い、その能力を最大限に引き出すための、現時点で最も効果的と考えられる「依頼方法（プロンプトパターン）」を体系化したものです。
        </p>
    </div>

    <div class="card">
        <h2>テクニック1：コンテキストの再注入 (Context Re-injection)</h2>
        <div class="technique-card">
            <div class="problem">
                <strong>課題：</strong>対話が長くなると、AIは初期の目的や、どのファイルがどのディレクトリにあるかといった詳細なコンテキストを忘れてしまうことがある。
            </div>
            <div class="solution">
                <strong>解決策：</strong>新しいリクエストの都度、<strong>関連するファイルの最新の内容を<code>&lt;CONTEXT&gt;</code>として明示的に提供する。</strong>これにより、AIは常に正確な情報に基づいて思考を開始できる。人間が「短期記憶」を外部から提供してあげるイメージです。
            </div>
        </div>
    </div>

    <div class="card">
        <h2>テクニック2：差分形式でのアウトプット要求 (Diff-based Output)</h2>
        <div class="technique-card">
            <div class="problem">
                <strong>課題：</strong>AIがファイル全体を書き換えてしまうと、人間は「どこが」「どのように」変更されたのかを把握するのが困難になり、レビューの質が低下する。
            </div>
            <div class="solution">
                <strong>解決策：</strong>コードの変更を、常に<strong>差分（diff）形式</strong>で出力するように要求する。これにより、人間は変更箇所に集中してレビューでき、意図しない変更の混入を確実に防げます。これは、バージョン管理システム（Git）との親和性も極めて高い、プロフェッショナルな手法です。
            </div>
        </div>
    </div>

    <div class="card">
        <h2>テクニック3：ドキュメント駆動での対話 (Document-Driven Conversation)</h2>
        <div class="technique-card">
            <div class="problem">
                <strong>課題：</strong>口頭での指示だけでは、人間とAIの間で「これから何をするのか」という認識にズレが生じやすい。
            </div>
            <div class="solution">
                <strong>解決策：</strong>開発の節目ごとに、AIに<strong>「計画書」や「完了報告書」といったHTMLドキュメントを生成させる。</strong>これらのドキュメントは、開発の「目的」と「結果」を固定し、対話のブレを防ぐ強力なアンカー（錨）となります。AIがコンテキストを忘れたときも、これらのドキュメントを読み込ませることで、即座に記憶を取り戻させることができます。
            </div>
        </div>
    </div>

    <div class="card">
        <h2>テクニック4：コンテキスト確認応答 (Context Confirmation Response)</h2>
        <div class="technique-card">
            <div class="problem">
                <strong>課題：</strong>人間がコンテキストを提供したつもりでも、AIがそれを正しく解釈したかどうかが不明確なままコーディングが進み、手戻りが発生するリスクがある。
            </div>
            <div class="solution">
                <strong>解決策：</strong>AIはコーディングを要求された際、いきなりコードを生成しない。まず、<strong>「①目的、②関連ファイル、③現状の理解」を自身の言葉で要約して人間に提示する。</strong>人間がその理解を承認（Ack）して初めて、AIはコード生成のステップに進む。これにより、作業開始前の認識齟齬をゼロにし、開発の精度を飛躍的に向上させる。
            </div>
        </div>
    </div>

</body>

</html>
```

---

この「ベストプラクティス集」こそ、私たちがこのプロジェクトを通じて発見した、AI時代の新しい開発スタイルの核心です。

このテクニック集を私たちの共通認識とし、今後の開発をさらに洗練させていきましょう。

準備がよろしければ、前回提案した「プロフィール更新APIのテストケース追加」を、このCDDベストプラクティスと新しいCDD実践記録フォーマットを使って進めてみませんか？

<!--
[PROMPT_SUGGESTION]はい、このベストプラクティスを意識して「プロフィール更新APIのテストケース追加」を進めたいです。[/PROMPT_SUGGESTION]
[PROMPT_SUGGESTION]「コンテキストの再注入」について、もっと具体的なプロンプトの例を教えてください。[/PROMPT_SUGGESTION]
-->